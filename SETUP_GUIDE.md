# Quick Setup Guide

## What Has Been Done âœ…

1. **Root Monorepo Configuration**
   - Created `package.json` with workspaces for both frontend and backend
   - Installed `convex` and `concurrently` packages
   - Configured dev script to run all services with colored output

2. **Convex Backend Setup**
   - Created `convex/` folder at monorepo root
   - Added `schema.ts` with tasks table definition
   - Added `tasks.ts` with a query function to get all tasks
   - Created `sampleData.jsonl` with sample tasks
   - Created `.env.local` placeholder (needs configuration)

3. **React Frontend (dillydally-frontend)**
   - Installed Convex package
   - Updated `vite.config.ts` with convex alias
   - Updated `main.tsx` to include ConvexProvider
   - Updated `App.tsx` to display tasks using useQuery hook
   - Configured TypeScript paths in `tsconfig.app.json`

4. **Express Backend (dillydally-express)**
   - Created complete Express.js server structure
   - Installed all dependencies (express, convex, dotenv, cors, tsx)
   - Created `src/index.ts` with:
     - Health check endpoint at `/`
     - Tasks endpoint at `/api/tasks`
     - ConvexHttpClient integration
   - Configured TypeScript with paths to shared convex folder

5. **Documentation**
   - Created comprehensive README.md
   - Created this setup guide

## What You Need to Do Next ðŸš€

### Step 1: Initialize Convex (Required)

Run this command from the monorepo root:

```bash
npx convex dev
```

This will:

- Prompt you to log in with GitHub
- Create a new Convex project
- Update the `.env.local` file with your actual `CONVEX_URL`
- Generate type definitions in `convex/_generated/`

**Keep this terminal running** - it watches for changes to your Convex functions.

### Step 2: Configure Frontend Environment

Copy the `CONVEX_URL` from the root `.env.local` file and create:

**`dillydally-frontend/.env.local`:**

```env
VITE_CONVEX_URL=https://your-deployment-url.convex.cloud
```

(Replace with your actual URL from root `.env.local`)

### Step 3: Start All Services

In a **new terminal window**, run:

```bash
npm run dev
```

This will start:

- ðŸ”µ **Convex** - Backend functions (already running from Step 1)
- ðŸŸ¢ **Frontend** - http://localhost:5173
- ðŸŸ¡ **Backend** - http://localhost:3001

## Verify Everything Works

1. **Frontend**: Open http://localhost:5173
   - You should see "DillyDally Tasks" with a list of tasks
2. **Backend Health Check**: Open http://localhost:3001
   - Should return JSON with status "ok"
3. **Backend API**: Open http://localhost:3001/api/tasks
   - Should return the list of tasks from Convex

## Directory Structure Created

```
DillyDally/
â”œâ”€â”€ package.json                    # Root workspace config
â”œâ”€â”€ README.md                       # Full documentation
â”œâ”€â”€ SETUP_GUIDE.md                 # This file
â”œâ”€â”€ sampleData.jsonl               # Sample data
â”œâ”€â”€ .env.local                     # Convex URL (generated by convex dev)
â”œâ”€â”€ .gitignore                     # Ignore node_modules, .env, etc.
â”œâ”€â”€ convex/                        # Shared Convex backend
â”‚   â”œâ”€â”€ schema.ts
â”‚   â”œâ”€â”€ tasks.ts
â”‚   â””â”€â”€ tsconfig.json
â”œâ”€â”€ dillydally-frontend/           # React app
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ App.tsx               # Updated with Convex
â”‚   â”‚   â””â”€â”€ main.tsx              # Updated with ConvexProvider
â”‚   â””â”€â”€ vite.config.ts            # Updated with alias
â””â”€â”€ dillydally-express/            # Express API (NEW)
    â”œâ”€â”€ src/
    â”‚   â””â”€â”€ index.ts              # Express server with Convex
    â”œâ”€â”€ package.json
    â””â”€â”€ tsconfig.json
```

## Common Commands

```bash
# Start all services (after convex dev is running)
npm run dev

# Start individual services
npm run dev --workspace=dillydally-frontend
npm run dev --workspace=dillydally-express

# Build for production
npm run build --workspace=dillydally-frontend
npm run build --workspace=dillydally-express

# Deploy Convex to production
npx convex deploy
```

## Next Steps for Development

1. Add more Convex functions (queries, mutations) in `convex/`
2. Extend the frontend UI in `dillydally-frontend/src/`
3. Add more API endpoints in `dillydally-express/src/index.ts`
4. Update the schema in `convex/schema.ts` as needed

## Need Help?

- Check the main [README.md](./README.md) for detailed documentation
- Visit [Convex Docs](https://docs.convex.dev) for Convex-specific questions
- All services have hot reload enabled for rapid development

---

**Important**: Make sure to run `npx convex dev` first before starting the other services, as it generates the necessary type definitions that both the frontend and backend depend on.
